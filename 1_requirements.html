<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paulo van Breugel">

<title>Ecodiv.earth | From suitability to suitable regions â€“ Mapping the distribution of the White-tailed deer in Minnesota</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./2_deerdensities.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./images/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d9d786a72be6d38a5dc5b0bef0536726.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-f754860cd4eddf66f326aca892a415da.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/nutshell-1.0.7/nutshell.js"></script>
<script src="site_libs/quarto-contrib/nutshell-1.0.7/nutshell_options.js"></script>
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<meta property="og:title" content="Ecodiv.earth | From suitability to suitable regions">
<meta property="og:description" content="">
<meta property="og:image" content="https://ecodiv.earth/images/console_gui.png">
<meta property="og:site_name" content="Mapping the distribution of the White-tailed deer in Minnesota">
<meta property="og:image:height" content="952">
<meta property="og:image:width" content="1495">
<meta name="twitter:title" content="Ecodiv.earth | From suitability to suitable regions">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://ecodiv.earth/images/console_gui.png">
<meta name="twitter:site" content="@ecodiv">
<meta name="twitter:image-height" content="952">
<meta name="twitter:image-width" content="1495">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./1_requirements.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/whitetaileddeer7.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Mapping the distribution of the White-tailed deer in Minnesota</a> 
        <div class="sidebar-tools-main tools-wide">
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_requirements.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_deerdensities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Deer densities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_habitatsuitability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Habitat suitability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_spatialdisaggregation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Spatial disaggregation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Results</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./all_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">All code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p style="color:lightgrey;">
<i><a href="https://has.nl/en">HAS green academy</a><br> <a href="https://www.has.nl/onderzoek/lectoraten/lectoraat-innovatieve-biomonitoring/">Innovative Biomonitoring</a>
</i></p><i>
</i></div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#interface" id="toc-interface" class="nav-link active" data-scroll-target="#interface"><span class="header-section-number">1.1</span> Interface</a></li>
  <li><a href="#sec-datamanagement" id="toc-sec-datamanagement" class="nav-link" data-scroll-target="#sec-datamanagement"><span class="header-section-number">1.2</span> Database</a></li>
  <li><a href="#region-mask" id="toc-region-mask" class="nav-link" data-scroll-target="#region-mask"><span class="header-section-number">1.3</span> Region &amp; Mask</a></li>
  <li><a href="#sec-datasets" id="toc-sec-datasets" class="nav-link" data-scroll-target="#sec-datasets"><span class="header-section-number">1.4</span> Data Minnesota</a>
  <ul class="collapse">
  <li><a href="#sec-minnbound" id="toc-sec-minnbound" class="nav-link" data-scroll-target="#sec-minnbound"><span class="header-section-number">1.4.1</span> Boundary layer</a></li>
  <li><a href="#land-cover" id="toc-land-cover" class="nav-link" data-scroll-target="#land-cover"><span class="header-section-number">1.4.2</span> Land cover</a></li>
  <li><a href="#sec-infrastructure" id="toc-sec-infrastructure" class="nav-link" data-scroll-target="#sec-infrastructure"><span class="header-section-number">1.4.3</span> Infrastructure</a></li>
  </ul></li>
  <li><a href="#sec-subsection" id="toc-sec-subsection" class="nav-link" data-scroll-target="#sec-subsection"><span class="header-section-number">1.5</span> Data counties</a>
  <ul class="collapse">
  <li><a href="#sec-boundaries2" id="toc-sec-boundaries2" class="nav-link" data-scroll-target="#sec-boundaries2"><span class="header-section-number">1.5.1</span> Boundaries</a></li>
  <li><a href="#sec-landcover2" id="toc-sec-landcover2" class="nav-link" data-scroll-target="#sec-landcover2"><span class="header-section-number">1.5.2</span> Land cover</a></li>
  <li><a href="#sec-infrastructure2" id="toc-sec-infrastructure2" class="nav-link" data-scroll-target="#sec-infrastructure2"><span class="header-section-number">1.5.3</span> Infrastructure</a></li>
  <li><a href="#section-29" id="toc-section-29" class="nav-link" data-scroll-target="#section-29"></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This tutorial is for users who are familiar with GRASS GIS. If you are not, you are encouraged to first check out the <a href="https://grass.osgeo.org/learn/overview/">General overview</a>, the <a href="https://grass.osgeo.org/learn/newcomers/">First time users</a> page, and the list of <a href="https://grass.osgeo.org/learn/tutorials/">tutorials</a> on the GRASS GIS website. And for those who are well versed in GIS, but new to GRASS GIS, have a look at these <a href="https://grasswiki.osgeo.org/wiki/GRASS_migration_hints">tips</a>.</p>
<p>In the tutorial, youâ€™ll be introduced to several functions. The tutorial will show how to use the functions, but will not (always) explain the settings and parameters. Instead, each time a function is used, a link is provided to the corresponding help page. These help pages are quite good, and you are encouraged to read them to fully understand the choices made in the tutorial.</p>
<section id="interface" class="level2 page-columns page-full" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="interface"><span class="header-section-number">1.1</span> Interface</h2>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-gui" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gui-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/console_gui.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1.1: Run code from the console (1) or terminal (4). Run Python code from the Python console (2) or Python editor (3)."><img src="images/console_gui.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gui-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: Run code from the console (1) or terminal (4). Run Python code from the Python console (2) or Python editor (3).
</figcaption>
</figure>
</div>
</div></div><p>The examples in this tutorial show you how to run functions from the terminal or the Console tab of the GUI. If you prefer to run the analysis in Python, you can use the GRASS Python Scripting Library from the Python command line (go to the <span class="style-menu">Python</span> tab) or using the <span class="style-menu">Python editor</span> (<a href="#fig-gui" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>). The first step is to import the <span class="style-library">grass.script</span> library. In the code below, it is imported as <span class="style-function">gs</span>. Next, you can run GRASS GIS functions using the <a href="https://grass.osgeo.org/grass-stable/manuals/libpython/script.html#script.core.run_command">run_command</a>. The general syntax is:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">import</span> grass.script <span class="im">as</span> gs</span>
<span id="cb1-2"><a href="#cb1-2"></a>gs.run_command(</span>
<span id="cb1-3"><a href="#cb1-3"></a>    <span class="st">"module.name"</span>,</span>
<span id="cb1-4"><a href="#cb1-4"></a>    option1<span class="op">=</span><span class="st">"..."</span>,</span>
<span id="cb1-5"><a href="#cb1-5"></a>    option2<span class="op">=</span><span class="st">"..."</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>    flags<span class="op">=</span><span class="st">"flagletters"</span>,</span>
<span id="cb1-7"><a href="#cb1-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>For example, you can use the following code to print the region settings (extent, resolution) and save them under the name â€˜myregionâ€™.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> grass.script <span class="im">as</span> gs</span>
<span id="cb2-2"><a href="#cb2-2"></a>gs.run_command(<span class="st">'g.region'</span>, flags<span class="op">=</span><span class="st">'p'</span>, save<span class="op">=</span><span class="st">"myregion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>There are also other functions besides <span class="style-function">run_command</span>, including <a href="https://grass.osgeo.org/grass-stable/manuals/libpython/script.html#script.core.read_command">read_command</a>, <a href="https://grass.osgeo.org/grass-stable/manuals/libpython/script.html#script.core.write_command">write_command</a> and <a href="https://grass.osgeo.org/grass-stable/manuals/libpython/script.html#script.core.parse_command">parse_command</a>. Read more about the Python interface to scripting and the differences between the functions in <a href="https://grasswiki.osgeo.org/wiki/GRASS_Python_Scripting_Library">the manual</a>.</p>
<p>For your analyses, you are encouraged to use the command line or Python code, as these facilitate reproducibility, make it easy to automate your work, and quickly test small changes and tweaks. However, using the GUI can be a good way to further explore the various options a function offers. And note that it always shows you the corresponding code, which you can copy for later use.</p>
<p>All functions can also be invoked from the GUI menu or <span class="style-menu">Tools</span> tab. Alternatively, you can type in the name of the function in the <span class="style-menu">Console</span> tab or in the <span class="style-program">terminal</span> and hit enter. This will open the functionâ€™s window (<a href="#fig-gui" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>).</p>
</section>
<section id="sec-datamanagement" class="level2 page-columns page-full" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-datamanagement"><span class="header-section-number">1.2</span> Database</h2>
<p>GRASS GIS works with special databases, which you can access from the <span class="style-menu">Data Catalog</span>. The GRASS GIS has a hierarchical structure consisting of Database <img src="images/grassdb.png" class="img-fluid">, Project <img src="./images/location.png" class="img-fluid"> and Mapset <img src="images/mapset.png" class="img-fluid">. Note that in GRASS GIS versions prior to 8.4, Projects were called Locations. If you are not familiar with the GRASS GIS database, you are encouraged to read <a href="https://grass.osgeo.org/grass83/manuals/grass_database.html">this overview</a>.</p>
<p>A project is defined by its coordinate reference system (<a href="https://en.wikipedia.org/wiki/Spatial_reference_systeme">CRS</a>). This means that all the data it holds is in the same CRS. In general, if your data comes in a specific CRS, you should create a Project corresponding to that CRS. Alternatively, you can reproject data <em>on-the-fly</em> during importing. Read <a href="https://grasswiki.osgeo.org/wiki/Map_Reprojection">this page</a> for different options.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-grassgisdatabasestructuur2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-grassgisdatabasestructuur2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/grassgis_db_structuur.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;1.2: GRASS GIS Database structure as visible to the user"><img src="images/grassgis_db_structuur.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-grassgisdatabasestructuur2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: GRASS GIS Database structure as visible to the user
</figcaption>
</figure>
</div>
</div></div><p>Each project can have many Mapset, which contain the actual data, mostly geospatial data, referred to as maps in GRASS GIS. Mapsets provide a way to organize maps transparently, as well as a tool for isolating different tasks to prevent data loss. When creating a new Project, GRASS GIS automatically creates a special Mapset called PERMANENT where the core data for the project can be stored. This is the only mapset that is obligatory. Read the <a href="https://grass.osgeo.org/grass-stable/manuals/helptext.html">GRASS GIS Quickstart</a> to learn more.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><i class="fa-regular fa-comment" aria-label="comment"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><i class="fa-solid fa-film" aria-label="film"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false"><i class="fa-solid fa-film" aria-label="film"></i></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>For this tutorial, create a new Project with the coordinate reference system (CRS) <span class="style-input">NAD83</span> with projection <span class="style-input">UTM zone 15N (<a href="https://epsg.io/26915">EPSG 26915</a>)</span>. The first video shows you how to add a new Project to an existing GRASS GIS database. The second video shows you how to create a new GRASS GIS database, Project and Mapset.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://ecodiv.earth/share/suitable_regions/newgrassgisproject.mp4"></video></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://ecodiv.earth/share/suitable_regions/newgrassgisdatabase.mp4"></video></div>
</div>
</div>
</div>
<p>Now that you have created a Project, create a mapset <span class="style-storage">WhitetailedDeer</span>. You can create a new mapset in the current mapset using the button <img src="images/mapset-add.png" class="img-fluid"> in the Data catalog toolbar or using the menu <span class="style-menu">Settings â†’ GRASS working environments â†’ Create new mapset</span>. Alternatively, you can create a new mapset from the command line.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">g.mapset</span> <span class="at">-c</span> mapset=WitetailedDeer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="im">import</span> grass.script <span class="im">as</span> gs</span>
<span id="cb4-2"><a href="#cb4-2"></a>gs.run_command(<span class="st">"g.mapset"</span>, flags<span class="op">=</span><span class="st">"c"</span>, mapset<span class="op">=</span><span class="st">"WhitetailedDeer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Youâ€™ll see that when you create a new mapset, GRASS GIS will switch automatically to that mapset. That means that if you run an analysis, the results will be stored in the new mapset.</p>
</section>
<section id="region-mask" class="level2 page-columns page-full" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="region-mask"><span class="header-section-number">1.3</span> Region &amp; Mask</h2>
<p>The <a href="https://grasswiki.osgeo.org/wiki/Computational_region">region</a> is an important concept in GRASS GIS, that allows you to fully control the extent and resolution of your raster computations. All raster computations will be performed in the specified extent and with the given resolution to ensure consistency. This makes it easy to subset larger extent data for quicker testing of analysis, or to run an analysis of specific regions given by, e.g., administrative units.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-maskparallel" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-maskparallel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/explain_mask_r_mapcalc.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;1.3: When a MASK is set, parallel processing is disabled. That means that if you want to use for example the r.mfilter using multiple threads, and you want to limit the computation to a certain area, you need to create an intermediate layer first, and use that as input."><img src="images/explain_mask_r_mapcalc.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-maskparallel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.3: When a MASK is set, parallel processing is disabled. That means that if you want to use for example the <span class="style-functin">r.mfilter</span> using multiple threads, and you want to limit the computation to a certain area, you need to create an intermediate layer first, and use that as input.
</figcaption>
</figure>
</div>
</div></div><p>Another important tool is the MASK. This is a raster map that defines areas to include or exclude in analyses or operations. A MASK is typically created from an existing raster map using the <a href="https://grass.osgeo.org/grass-stable/manuals/r.mask.htm">r.mask</a> function. Once a MASK is set, any raster operation (e.g., map algebra, resampling, or any raster processing) will only consider the cells within the masked area. Operations ignore cells outside this area as if they were null.</p>
</section>
<section id="sec-datasets" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="sec-datasets"><span class="header-section-number">1.4</span> Data Minnesota</h2>
<p>For this tutorial, the analysis will be carried out for Minnesota. Alternatively, to make the analysis run faster, you can limit the areas for which you carry out the analysis. In that case, skip this section, and go to <a href="#sec-subsection" class="quarto-xref"><span>Section 1.5</span></a>.</p>
<p>For this tutorial, the assumption is that you copy all required input files to the working directory. On the command line, use the <a href="https://www.geeksforgeeks.org/cd-cmd-command/">cd</a> command to set the working directory. In Python, you can change the working directory using the <span class="style-function">os.chdir</span> command. See here for <a href="https://linuxize.com/post/python-get-change-current-working-directory/">how to do this</a>.</p>
<section id="sec-minnbound" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="sec-minnbound"><span class="header-section-number">1.4.1</span> Boundary layer</h3>
<p>First step is to download the vector layer with the state boundary of Minnesota. Go to the <a href="https://gisdata.mn.gov/dataset/bdry-state-of-minnesota">download page</a>, download the OGC GeoPackage from there and unzip it to your working directory. Next, use <a href="https://grass.osgeo.org/grass-stable/manuals/v.in.ogr.html">v.in.ogr</a> to import the layer in GRASS GIS.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Import</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="ex">v.in.ogr</span> input=bdry_state_of_minnesota.gpkg <span class="dt">\</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>layer=state_of_minnesota output=Minnesota_bdry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Import</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>gs.run_command(</span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="st">"v.in.ogr"</span>,</span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"bdry_state_of_minnesota.gpkg"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>    layer<span class="op">=</span><span class="st">"state_of_minnesota"</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>    output<span class="op">=</span><span class="st">"Minnesota_bdry"</span>,</span>
<span id="cb6-7"><a href="#cb6-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Now, set the region to match the extent of the vector layer you just imported. This will help you to limit the import of other layers to the extent of Minnesota.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Set the region</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="ex">g.region</span> vector=Minnesota_bdry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Set the region</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>gs.run_command(<span class="st">"g.region"</span>, vector<span class="op">=</span><span class="st">"Minnesota_bdry"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="land-cover" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="land-cover"><span class="header-section-number">1.4.2</span> Land cover</h3>
<p>One of the main data layers you are going to work with is the National Land Cover Database (NLCD) of the USA. You can download the NLCD layer for Minnesota from the Minnesota GIS portal. There are <a href="#x-varversions">:various versions</a>. The examples in this tutorial are based on the NLCD for 2016, which you can <a href="https://gisdata.mn.gov/dataset/biota-landcover-nlcd-mn-2016">download here</a> as a geoTIF raster layer.</p>
<p>Next, use the functions <a href="https://grass.osgeo.org/grass-stable/manuals/r.in.gdal.html">r.in.gdal</a> to import the raster data in GRASS GIS. The raster layer covers an area larger than Minnesota. You should therefore set the <span class="style-parameter">-r</span> flag to limit the import to the computational region. Note that because <span class="style-function">r.in.gdal</span> does not change the resolution and alignment of the original layer, the extent of the imported layer may be slightly larger than the regional extent.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Import land use map</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="ex">r.in.gdal</span> input=NLCD_2016_Land_Cover.tif output=NLCD_2016</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># Import the boundary maps</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="ex">r.in.ogr</span> input=bdry_state_of_minnesota.gpkg <span class="dt">\</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>layer=state_of_minnesota output=Minnesota_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Import land use map</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>gs.run_command(</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="st">"r.in.gdal"</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>    flags<span class="op">=</span><span class="st">"r"</span>,</span>
<span id="cb10-5"><a href="#cb10-5"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"NLCD_2016_Land_Cover.tif"</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>    output<span class="op">=</span><span class="st">"NLCD_2016"</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Use the <a href="https://grass.osgeo.org/grass83/manuals/g.region.html">g.region</a> function again to set the region to exactly match the extent and resolution of the <span class="style-data">NLCD_2016</span> raster layer. This will ensure that all subsequent raster calculations will be carried out using the right resolution and extent.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="ex">g.region</span> <span class="at">-a</span> raster=NLCD_2016</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>gs.run_command(</span>
<span id="cb12-2"><a href="#cb12-2"></a>    <span class="st">"g.region"</span>,</span>
<span id="cb12-3"><a href="#cb12-3"></a>    flags<span class="op">=</span><span class="st">"a"</span>,</span>
<span id="cb12-4"><a href="#cb12-4"></a>    raster<span class="op">=</span><span class="st">"NLCD_2016"</span>,</span>
<span id="cb12-5"><a href="#cb12-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="sec-infrastructure" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="sec-infrastructure"><span class="header-section-number">1.4.3</span> Infrastructure</h3>
<p>You will also need a dataset of the infrastructure and buildings of Minnesota. For this tutorial, youâ€™ll use the <a href="https://www.openstreetmap.org/#map=7/46.356/-93.591">Openstreetmap data</a>. Geofrabric offers a convenient free download server where you can download OSM data for the <a href="http://download.geofabrik.de/north-america/us.html">individual USA states</a>.</p>
<p>Download the zip file with shapefiles for Minnesota and unzip the layers in your working directory. The zip files include various Shapefiles. Import the layers <span class="style-data">gis_osm_buildings_a_free_1</span>, <span class="style-data">gis_osm_railways_a_free_1</span>, <span class="style-data">gis_osm_roads_a_free_1</span> and <span class="style-data">gis_osm_traffic_a_free_1</span>. The data is in latlon (EPSG 4326) so you need to use the <a href="https://grass.osgeo.org/grass-stable/manuals/r.import.html">r.import</a> function. This will reproject your data on-the-fly during import.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="ex">v.import</span> input=gis_osm_buildings_a_free_1.shp output=buildings</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="ex">v.import</span> input=gis_osm_railways_free_1.shp output=railways</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="ex">v.import</span> input=gis_osm_roads_free_1.shp output=railways</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="ex">v.import</span> input=gis_osm_traffic_a_free_1.shp output=railways</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>gs.run_command(</span>
<span id="cb14-2"><a href="#cb14-2"></a>    <span class="st">"v.import"</span>,</span>
<span id="cb14-3"><a href="#cb14-3"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_buildings_a_free_1.shp"</span>,</span>
<span id="cb14-4"><a href="#cb14-4"></a>    output<span class="op">=</span><span class="st">"buildings"</span>,</span>
<span id="cb14-5"><a href="#cb14-5"></a>)</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a>gs.run_command(</span>
<span id="cb14-8"><a href="#cb14-8"></a>    <span class="st">"v.import"</span>,</span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_railways_free_1.shp"</span>,</span>
<span id="cb14-10"><a href="#cb14-10"></a>    output<span class="op">=</span><span class="st">"railways"</span>,</span>
<span id="cb14-11"><a href="#cb14-11"></a>)</span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a>gs.run_command(</span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="st">"v.import"</span>,</span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_roads_free_1.shp"</span>,</span>
<span id="cb14-16"><a href="#cb14-16"></a>    output<span class="op">=</span><span class="st">"roads"</span>,</span>
<span id="cb14-17"><a href="#cb14-17"></a>)</span>
<span id="cb14-18"><a href="#cb14-18"></a></span>
<span id="cb14-19"><a href="#cb14-19"></a></span>
<span id="cb14-20"><a href="#cb14-20"></a>gs.run_command(</span>
<span id="cb14-21"><a href="#cb14-21"></a>    <span class="st">"v.import"</span>, <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_traffic_a_free_1.shp"</span>, output<span class="op">=</span><span class="st">"traffic"</span></span>
<span id="cb14-22"><a href="#cb14-22"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>In the rest of the tutorial, the analyses are carried out for the whole state, at a resolution of 30m. If that is OK, skip the next section. If you want to run the analysis for a smaller area, follow the example in the next section (<a href="#sec-subsection" class="quarto-xref"><span>Section 1.5</span></a>).</p>
</section>
</section>
<section id="sec-subsection" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="sec-subsection"><span class="header-section-number">1.5</span> Data counties</h2>
<p>Some steps of the analysis will take quite some time. To make the analysis run faster, you can set a lower resolution and/or define a smaller region for which we carry out the analysis. This section shows you how to limit your data import and analyses to the extent of the counties <em>Otter Tail</em>, <em>Douglas</em>, <em>Grant</em>, <em>Todd</em> and <em>Wadena</em>.</p>
<p>For this tutorial, the assumption is that you copy all required input files to the working directory. On the command line, use the <a href="https://www.geeksforgeeks.org/cd-cmd-command/">cd</a> command to set the working directory. In Python, you can change the working directory using the <a href="https://linuxize.com/post/python-get-change-current-working-directory/">os.chdir</a> command.</p>
<section id="sec-boundaries2" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="sec-boundaries2"><span class="header-section-number">1.5.1</span> Boundaries</h3>
<p>First, download the vector layer with the Minnesota counties as a GeoPackage <a href="https://gisdata.mn.gov/dataset/bdry-counties-in-minnesota">from here</a>. Copy the data to your working directory, and import the layer in GRASS GIS.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<p>You can import the entire layer using <a href="https://grass.osgeo.org/grass-stable/manuals/v.in.ogr.html">v.in.ogr</a>, and next, select the required subset using the <a href="https://grass.osgeo.org/grass-stable/manuals/v.extract.html">v.extract</a> function.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Import</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="ex">v.in.ogr</span> input=bdry_counties_in_minnesota.gpkg <span class="dt">\</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>layer=mn_county_boundaries output=Minnesota_counties</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co"># Select</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="ex">v.extract</span> input=Minnesota_counties </span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="va">where</span><span class="op">=</span><span class="st">"CTY_NAME = 'Otter Tail' OR CTY_NAME = 'Douglas' OR  CTY_NAME = 'Grant' OR CTY_NAME = 'Todd' OR  CTY_NAME = 'Wadena'"</span> <span class="va">output</span><span class="op">=</span>study_area</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alternatively, you can limit your import to those counties you are interested in directly using the <span class="style-parameter">where</span> parameter.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="ex">v.in.ogr</span> input=bdry_counties_in_minnesota.gpkg <span class="dt">\</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>layer=mn_county_boundaries output=Minnesota_counties <span class="dt">\</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>where=<span class="st">"CTY_NAME = 'Otter Tail' OR CTY_NAME = 'Douglas' OR  CTY_NAME = 'Grant' OR CTY_NAME = 'Todd' OR  CTY_NAME = 'Wadena'"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<p>You can import the whole layer using <a href="https://grass.osgeo.org/grass-stable/manuals/v.in.ogr.html">v.in.ogr</a>, and next, select the required subset using the <a href="https://grass.osgeo.org/grass-stable/manuals/v.extract.html">v.extract</a> function.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Import</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>gs.run_command(</span>
<span id="cb17-3"><a href="#cb17-3"></a>    <span class="st">"v.in.ogr"</span>,</span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"bdry_counties_in_minnesota.gpkg"</span>,</span>
<span id="cb17-5"><a href="#cb17-5"></a>    layer<span class="op">=</span><span class="st">"mn_county_boundaries"</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>    output<span class="op">=</span><span class="st">"Minnesota_counties"</span>,</span>
<span id="cb17-7"><a href="#cb17-7"></a>)</span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="co"># Select subset</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>gs.run_command(</span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="st">"v.extract"</span>,</span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"Minnesota_counties"</span>,</span>
<span id="cb17-13"><a href="#cb17-13"></a>    where<span class="op">=</span>(</span>
<span id="cb17-14"><a href="#cb17-14"></a>        <span class="st">"CTY_NAME = 'Otter Tail' OR "</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>        <span class="st">"CTY_NAME = 'Douglas' OR "</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>        <span class="st">"CTY_NAME = 'Grant' OR "</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>        <span class="st">"CTY_NAME = 'Todd' OR  "</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>        <span class="st">"CTY_NAME = 'Wadena'"</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>    ),</span>
<span id="cb17-20"><a href="#cb17-20"></a>    output<span class="op">=</span><span class="st">"study_area"</span>,</span>
<span id="cb17-21"><a href="#cb17-21"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alternatively, you can limit your import to those counties you are interested in directly using the <span class="style-parameter">where</span> parameter.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Import</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>gs.run_command(</span>
<span id="cb18-3"><a href="#cb18-3"></a>    <span class="st">"v.in.ogr"</span>,</span>
<span id="cb18-4"><a href="#cb18-4"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"bdry_counties_in_minnesota.gpkg"</span>,</span>
<span id="cb18-5"><a href="#cb18-5"></a>    layer<span class="op">=</span><span class="st">"mn_county_boundaries"</span>,</span>
<span id="cb18-6"><a href="#cb18-6"></a>    where<span class="op">=</span>(<span class="st">"CTY_NAME = 'Otter Tail' OR "</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>           <span class="st">"CTY_NAME = 'Douglas' OR  "</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>           <span class="st">"CTY_NAME = 'Grant' OR "</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>           <span class="st">"CTY_NAME = 'Todd' OR  "</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>           <span class="st">"CTY_NAME = 'Wadena'"</span>),</span>
<span id="cb18-11"><a href="#cb18-11"></a>    output<span class="op">=</span><span class="st">"study_area2"</span>,</span>
<span id="cb18-12"><a href="#cb18-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Now, use the <a href="https://grass.osgeo.org/grass83/manuals/g.region.html">g.region</a> function to set the regional extent to match the extent of the selected counties.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1"></a><span class="ex">g.region</span> vector=study_area</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>gs.run_command(<span class="st">"g.region"</span>, vector<span class="op">=</span><span class="st">"study_area"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="sec-landcover2" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="sec-landcover2"><span class="header-section-number">1.5.2</span> Land cover</h3>
<p>One of the main data layers you are going to work with is the National Land Cover Database (NLCD) of the USA. You can download the NLCD layer for Minnesota from the Minnesota GIS portal. There are <a href="#x-varversions">:various versions</a>. The examples in this tutorial are based on the NLCD for 2016, which you can <a href="https://gisdata.mn.gov/dataset/biota-landcover-nlcd-mn-2016">download here</a> as a geoTIF raster layer.</p>
<p>Next, use the functions <a href="https://grass.osgeo.org/grass-stable/manuals/r.in.gdal.html">r.in.gdal</a> to import the raster data in GRASS GIS. Set the <span class="style-parameter">-r</span> flag to limit the import to the computational region. Note that because <span class="style-function">r.in.gdal</span> does not change the resolution and alignment of the original layer, the extent of the imported layer may be slightly larger than the regional extent.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Import land use map</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="ex">r.in.gdal</span> <span class="at">-r</span> input=NLCD_2016_Land_Cover.tif output=NLCD_2016_30m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Import land use map</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>gs.run_command(</span>
<span id="cb22-3"><a href="#cb22-3"></a>    <span class="st">"r.in.gdal"</span>,</span>
<span id="cb22-4"><a href="#cb22-4"></a>    flags<span class="op">=</span><span class="st">"r"</span>,</span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"NLCD_2016_Land_Cover.tif"</span>,</span>
<span id="cb22-6"><a href="#cb22-6"></a>    output<span class="op">=</span><span class="st">"NLCD_2016_30m"</span>,</span>
<span id="cb22-7"><a href="#cb22-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Another way to reduce the computation time is to work with a lower resolution. Use the <span class="style-function">g.region</span> function again, and this time use the <span class="style-parameter">res</span> parameter to set the resolution to 60 meters. Use the <span class="style-parameter">-a</span> flag to align region to resolution (this ensures the resolution will be exactly as requested).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1"></a><span class="ex">g.region</span> <span class="at">-a</span> <span class="at">-p</span> res=60 raster=NLCD_2016</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>gs.run_command(<span class="st">"g.region"</span>, flags<span class="op">=</span><span class="st">"ap"</span>, res<span class="op">=</span><span class="dv">60</span>, raster<span class="op">=</span><span class="st">"NLCD_2016"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>All raster calculations in GRASS GIS use the resolution as defined with the computation region. If the resolution of an input raster differs from the resolution of the computational region, GRASS GIS will resample the input raster to the cell resolution of the computational region â€˜on-the-flyâ€™ while carrying out raster calculations. By default, it will use the <a href="#x-nearestneighbor">:nearest neighbor method</a></p>
<p>For categorical maps such as the <span class="style-data">NLCD_2016</span> raster layer, it is usually more appropriate to use the <a href="#x-mode">mode</a> of the input cells that intersect the output cell. Therefore, use the <a href="https://grass.osgeo.org/grass-stable/manuals/r.resamp.stats.html">r.resample.stats</a> function to resample the NLCD layer to the desired resolution. Set the <span class="style-parameter">method</span> to <span class="style-input">mode</span>. Optionally, you can set the <span class="style-parameter">-w</span> flag. With this option, the values from each input cell is weighted according to how much the input cell overlaps with the output cell. This is slower, but produces a more accurate result.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1"></a><span class="ex">r.resamp.stats</span> <span class="at">-w</span> input=NLCD_2016_30m output=NLCD_2016 method=mode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>gs.run_command(</span>
<span id="cb26-2"><a href="#cb26-2"></a>    <span class="st">"r.resamp.stats"</span>,</span>
<span id="cb26-3"><a href="#cb26-3"></a>    flags<span class="op">=</span><span class="st">"w"</span>,</span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"NLCD_2016_30m"</span>,</span>
<span id="cb26-5"><a href="#cb26-5"></a>    output<span class="op">=</span><span class="st">"NLCD_2016"</span>,</span>
<span id="cb26-6"><a href="#cb26-6"></a>    method<span class="op">=</span><span class="st">"mode"</span>,</span>
<span id="cb26-7"><a href="#cb26-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="sec-infrastructure2" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="sec-infrastructure2"><span class="header-section-number">1.5.3</span> Infrastructure</h3>
<p>You will also need a dataset of the infrastructure and buildings of Minnesota. For this tutorial, youâ€™ll use the <a href="https://www.openstreetmap.org/#map=7/46.356/-93.591">Openstreetmap data</a>. Geofrabric offers a convenient free download server where you can download OSM data for the <a href="http://download.geofabrik.de/north-america/us.html">individual USA states</a>.</p>
<p>Download the zip file with Shapefiles for Minnesota and unzip the layers in your working directory. The zip files include various Shapefiles. Import the layers <span class="style-data">gis_osm_buildings_a_free_1</span>, <span class="style-data">gis_osm_railways_a_free_1</span>, <span class="style-data">gis_osm_roads_a_free_1</span> and <span class="style-data">gis_osm_traffic_a_free_1</span>. The data is in latlon (EPSG 4326) so you need to use the <a href="https://grass.osgeo.org/grass-stable/manuals/r.import.html">r.import</a> function. This will reproject your data on-the-fly during import. Use the <span class="style-parameter">extent</span> parameter to limit the import to the current computational region.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true"><i class="fa-solid fa-terminal" aria-label="terminal"></i></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false"><i class="fa-brands fa-python" aria-label="python"></i></a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1"></a><span class="ex">v.import</span> input=gis_osm_buildings_a_free_1.shp output=buildings extent=region</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="ex">v.import</span> input=gis_osm_railways_free_1.shp output=railways extent=region</span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="ex">v.import</span> input=gis_osm_roads_free_1.shp output=railways extent=region</span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="ex">v.import</span> input=gis_osm_traffic_a_free_1.shp output=railways extent=region</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>gs.run_command(</span>
<span id="cb28-2"><a href="#cb28-2"></a>    <span class="st">"v.import"</span>,</span>
<span id="cb28-3"><a href="#cb28-3"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_buildings_a_free_1.shp"</span>,</span>
<span id="cb28-4"><a href="#cb28-4"></a>    output<span class="op">=</span><span class="st">"buildings"</span>,</span>
<span id="cb28-5"><a href="#cb28-5"></a>    extent<span class="op">=</span><span class="st">"region"</span>,</span>
<span id="cb28-6"><a href="#cb28-6"></a>)</span>
<span id="cb28-7"><a href="#cb28-7"></a></span>
<span id="cb28-8"><a href="#cb28-8"></a>gs.run_command(</span>
<span id="cb28-9"><a href="#cb28-9"></a>    <span class="st">"v.import"</span>, <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_railways_free_1.shp"</span>, output<span class="op">=</span><span class="st">"railways"</span>, extent<span class="op">=</span><span class="st">"region"</span></span>
<span id="cb28-10"><a href="#cb28-10"></a>)</span>
<span id="cb28-11"><a href="#cb28-11"></a></span>
<span id="cb28-12"><a href="#cb28-12"></a>gs.run_command(</span>
<span id="cb28-13"><a href="#cb28-13"></a>    <span class="st">"v.import"</span>, <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_roads_free_1.shp"</span>, output<span class="op">=</span><span class="st">"roads"</span>, extent<span class="op">=</span><span class="st">"region"</span></span>
<span id="cb28-14"><a href="#cb28-14"></a>)</span>
<span id="cb28-15"><a href="#cb28-15"></a></span>
<span id="cb28-16"><a href="#cb28-16"></a>gs.run_command(</span>
<span id="cb28-17"><a href="#cb28-17"></a>    <span class="st">"v.import"</span>, <span class="bu">input</span><span class="op">=</span><span class="st">"gis_osm_traffic_a_free_1.shp"</span>, output<span class="op">=</span><span class="st">"traffic"</span>, extent<span class="op">=</span><span class="st">"region"</span></span>
<span id="cb28-18"><a href="#cb28-18"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>In the next sections, you will map the (suitability) distribution of the White tailed deer. If you have prepared the data following the steps in this section, you will do this for an area covering the counties <em>Otter Tail</em>, <em>Douglas</em>, <em>Grant</em>, <em>Todd</em> and <em>Wadena</em>, at a resolution of 60 meter. If you have prepared your data according to the steps in <a href="#sec-datasets" class="quarto-xref"><span>Section 1.4</span></a>, you will create a suitability map for the state of Minnesota, at a resolution of 30m.</p>
<section id="x-varversions" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="x-varversions">:x varversions</h4>
<p>Like the 2019 version, which you can download <a href="https://gisdata.mn.gov/dataset/biota-landcover-nlcd-mn-2019">here</a>. If you want to use that layer, you probably also want to get the more recent numbers for deer densities as well (see <a href="2_deerdensities.html#sec-deerdensitydata" class="quarto-xref"><span>Section 2.1</span></a>).</p>
</section>
<section id="x-mode" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="x-mode">:x mode</h4>
<p>The <em>mode</em>, also called <em>majority resampling</em>, is the most frequently occurring value of the input cells that intersect the output cell. Read more about this and alternative resampling techniques <a href="https://gisgeography.com/raster-resampling/">here</a>.</p>
</section>
<section id="x-nearestneighbor" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="x-nearestneighbor">:x nearestneighbor</h4>
<p>The <em>nearest neighbor</em> technique doesnâ€™t change any of the values from the input raster data set. It takes the cell center from the input raster data set to determine the closest cell center of the output raster. For processing speed, itâ€™s generally the fastest because of its simplicity. Read more about this and alternative resampling techniques <a href="https://gisgeography.com/raster-resampling/">here</a>.</p>
</section>
</section>
<section id="section-29" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="section-29"></h3>
<!-- Read the Formbutton docs at formspree.io/formbutton/docs. See more examples at codepen.io/formspree -->
<script src="https://formspree.io/js/formbutton-v1.min.js" defer=""></script>
<script>
  /* paste this line in verbatim */
  window.formbutton=window.formbutton||function(){(formbutton.q=formbutton.q||[]).push(arguments)};
  /* customize formbutton below*/     
  formbutton("create", {
    action: "https://formspree.io/f/xjvppyvg",
    title: "Feedback", 
    fields: [
      { 
        type: "email", 
        label: "Email:", 
        name: "email",
        required: true,
        placeholder: "your@email.com"
      },
      {
        type: "hidden",
        label: "",
        value: "distribution white tailed deer - page 2",
      },
      {
        type: "textarea",
        label: "Message:",
        name: "message",
        placeholder: "Question or feedback? Let us know here.",
      },
      { type: "submit" }      
    ],
    styles: {
      title: {
        backgroundColor: "#57B444"
      },
      button: {
        backgroundColor: "#57B444"
      }
    }
  });
</script>

<i>

<div id="refs" class="references csl-bib-body" role="list" style="display: none">
<div id="ref-michiel2022" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Michiel ES, Guidice JH. <em>Monitoring Population Trends of White-Tailed Deer in Minnesota - 2022</em>. Minnesota Department of Natural Resources; 2022:15. <a href="https://files.dnr.state.mn.us/wildlife/deer/reports/popmodel/popmodel_2022.pdf">https://files.dnr.state.mn.us/wildlife/deer/reports/popmodel/popmodel_2022.pdf</a></div>
</div>
</div>
</i></section><i>
</i></section><i>

</i></main><i> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ecodiv\.earth\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          trigger: 'click',
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          positionFixed: true,
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Welcome">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Welcome</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./2_deerdensities.html" class="pagination-link" aria-label="Deer densities">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Deer densities</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</i></div><i> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Â© <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> by Paulo van Breugel, 2021 - 2025.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>videojs(video_shortcode_videojs_video1);</script>
<script>videojs(video_shortcode_videojs_video2);</script>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</i><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>